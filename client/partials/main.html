<!-- main.html  ministore project-->
<div ng-controller='MainController' class="container">
	<div class="row">
		<div class="col-lg-12 text-center">
			<div ng-hide="loaded">
				Loading...
			</div>
			<div ng-show="loaded">
				<div class="row">
					<label>Sort by: 
						<select ng-model="order">
							<option value="">---Please select---</option>
							<option value="name" >Name</option>
							<option value="defaultPriceInCents">Price</option>
							<option value="createdAt">Date</option>
						</select>
					</label>
					<label>Show all items that are greater than $20.00
						<input type="checkbox" ng-model="lessthan20" ng-change="less20()">
					</label>
					<label>Search by name: 
						<input id="search" type="search" ng-model="byname" placeholder="search by name...">
					</label>
					<div class="col-md-6" ng-repeat="product in products | orderBy: order | filter: byname as results track by $index">
						<a href="#/{{product.id}}">
						<img src="{{completeUrl(product.mainImage.ref)}}"/>
						<div ng-bind="product.name"></div></a>
						<div ng-bind="priceMaker(product.defaultPriceInCents)"></div>
					</div>
					<div class="col-md-6" ng-if="results.length===0">No such results...</div>
			</div>
		</div>
	</div>
</div>
